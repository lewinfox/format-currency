<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>format-currency</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  </head>
  <body>
    <div class="container">
      <div class="row">
        <h1>Currency formatter</h1>
      </div>
      <hr>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-l-6 col-sm-12">
          <p>Enter the input parameters of the function in the fields below to see it in action!</p>
          <form id="input-form">
            <div class="form-row">
              <div class="col-3">
                <label for="amount-input">Amount</label>
                <input class="form-control" type="number" id="amount-input" placeholder="Enter an amount">
              </div>
              <div class="col-2">
                <label for="prefix-input">Prefix</label>
                <input class="form-control" type="text" id="prefix-input" value="Â£">
              </div>
              <div class="col-3">
                <label for="minor-units-limit-input">Minor units display limit</label>
                <input class="form-control" type="number" id="minor-units-limit-input" value="10000">
              </div>
              <div class="col-2">
                <label for="major-sep-input">Major unit separator</label>
                <input class="form-control" type="text" id="major-sep-input" value=",">
              </div>
              <div class="col-2">
                <label for="decimal-sep-input">Decimal separator</label>
                <input class="form-control" type="text" id="decimal-sep-input" value=".">
              </div>
            </div>
          </form>
      </div>
    </div>
    <div class="row mt-2">
      <div class="col-6 alert alert-info">
        <h4>Function call:</h4>
        <br>
        <code id="function-signature"></code>
      </div>
      <div class="col-6 alert alert-success">
        <h4>Output:</h4>
        <br>
        <span style="font-size: 2em" id="output-text-box"></span>
      </div>
    </div>
    <script type="text/javascript" src="formatCurrency.js"></script>
    <script type="text/javascript">

      console.log("hi");

      const updateUI = () => {

        const inputs = {
          amount: document.getElementById("amount-input").value,
          prefix: document.getElementById("prefix-input").value,
          minorUnitsLimit: document.getElementById("minor-units-limit-input").value,
          majorSep: document.getElementById("major-sep-input").value,
          decimalSep: document.getElementById("decimal-sep-input").value
        }

        output = formatCurrency(inputs.amount, inputs.prefix, inputs.minorUnitsLimit, inputs.majorSep, inputs.decimalSep);

        console.log(output);

        document.getElementById("output-text-box").innerHTML = output;

        document.getElementById("function-signature").innerHTML = `<pre>
formatCurrency(amount = ${inputs.amount},
               prefix = ${inputs.prefix},
               displayMinorUnitsLimit = ${inputs.minorUnitsLimit},
               majorSep = '${inputs.majorSep}',
               decimalSep = '${inputs.decimalSep}')
        </pre>`
      }

      document.getElementById("input-form").addEventListener("input", updateUI);

      window.onload = updateUI;

    </script>
  </body>
</html>
